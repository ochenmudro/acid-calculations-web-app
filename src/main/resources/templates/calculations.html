<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Расчёт концентрации</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/navbar.css}">
</head>

<body>

    <div th:replace="navbar :: navbar"></div>

    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <form method="post" th:action="@{new/}" th:object="${calculation}">
                    <div class="mb-3">

                        <select class="form-select" id="experiment-select" name="experiments"
                            th:field="*{experimentId}">
                            <option value="" selected>Выберите эксперимент</option>
                            <option th:each="experiment : ${experiments}" th:value="${experiment.id}"
                                th:text="${experiment.date} + ' - ' + ${experiment.name}">
                            </option>
                        </select>
                    </div>

                    <div class="mb-3">

                        <select class="form-select" id="acid-select" name="acids" th:field="*{acidId}">
                            <option value="" selected>Выберите кислоту</option>
                            <option th:each="acid : ${acids}" th:value="${acid.id}" th:text="${acid.name}">
                            </option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="absk-input" class="form-label"><mark>АБС.К.</mark></label>
                        <input type="text" class="form-control" id="absk-input" aria-label="absK"
                            placeholder="Введите абсолютный коэффициент" th:field="*{absK}">
                    </div>

                    <div class="mb-3">
                        <label for="s-input" class="form-label"><mark>S</mark></label>
                        <input type="text" class="form-control" id="s-input" aria-label="s"
                            placeholder="Введите площадь пика" th:field="*{s}">
                    </div>

                    <div class="mb-3">
                        <label for="sst-input" class="form-label"><mark>S (ст)</mark></label>
                        <input type="text" class="form-control" id="sst-input" aria-label="sSt"
                            placeholder="Введите площадь стандарта" th:field="*{sSt}">
                    </div>

                    <div class="row justify-content-center">
                        <div class="col-6">
                            <button type="submit" class="btn btn-outline-success w-100">Рассчитать</button>
                        </div>
                        <div class="col-6">
                            <a class="btn btn-success w-100" th:href="@{create_experiment}">Создать новый
                                эксперимент</a>
                        </div>
                    </div>

                    <div th:if="${errorMessage}" class="alert alert-danger my-3" role="alert">
                        <p th:text="${errorMessage}"></p>
                    </div>
                    <div th:if="${calculationResult}" class="alert alert-success my-3" role="alert">
                        <p th:text="'Концентрация: ' + ${calculationResult.concentration}"></p>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script th:src="@{/js/navbar.js}"></script>
</body>

</html>